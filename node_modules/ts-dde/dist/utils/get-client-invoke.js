"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var path = require("path");
var edge = require('edge-js');
var modelPath = path.join(path.dirname(__filename), '../../dll');
function getClientInvokerFunc() {
    return edge.func({
        source: modelPath + '/client.cs',
        references: [modelPath + '/NDde.dll'],
        typeName: 'NodeDde.Client',
        methodName: 'GetInvoker',
    });
}
function getClientInvoke(ddeClient) {
    var invokerFunc = getClientInvokerFunc();
    return invokerFunc({
        services: ddeClient.options.services,
        callbacks: {
            OnDisconnected: function (ddeData) {
                ddeClient.emit('disconnected', ddeData);
            },
            OnAdvise: function (ddeData) {
                ddeClient.emit('advise', ddeData);
            },
        },
    }, true);
}
exports.getClientInvoke = getClientInvoke;
